<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>System Engineering - Presentation</title>

    <link rel="stylesheet" href="css/reveal.css">
    <!-- Theme -->
    <link rel="stylesheet" href="css/blood.css">

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!-- Own styles -->
    <style>
      ul.list-unstyled {
        list-style: none;
        margin: 0 !important;
      }
      pre {
        min-width: 640px;
        max-width: 960px;
      }
      iframe {
        width: 1080px;
        height: 800px;
        background-color: white;
      }
      .orange {
        color: #ed7d31 !important;
      }
      .red {
        color: #ff0000 !important;
      }
      .yellow {
        color: #ffc000 !important;
      }
      .blue {
        color: #4472c4 !important;
      }
      .green {
        color: #70ad47 !important;
      }
      img.img-unstyled {
        background: transparent !important;
        border: none !important;
      }
    </style>

  </head>
  <body>
    <div class="reveal">
      <div class="slides">

        <!-- Start -->
        <section>
          <h1>Node.js Development</h1>
          <p>Test Driven Development and Code Style</p>
          <small>Roman Kollatschny and Matthias Schmidt - SoSe 2016</small>
        </section>

        <!-- Topics -->
        <section>
          <h2>Topics</h2>
          <ul class="list-unstyled">
            <li>
              <br>
              <h3>TDD with Node.js</h3>
              <ul>
                <li>What is TDD?</li>
                <li>TDD Cycle</li>
                <li>Frameworks</li>
                <li>Examples <small>(You can do it by yourself; you need node.js and our repo (https://github.com/RomanKol/syseng-presentation.git))</small></li>
              </ul>
            </li>
            <li>
              <br>
              <h3>Code Style and Quality with Node.js</h3>
              <ul>
                <li>Why?</li>
                <li>Frameworks</li>
                <li>How to use</li>
              </ul>
            </li>
            <li>
              <br>
              <h3>Conclusion</h3>
            </li>
          </ul>
        </section>

        <!-- TDD in general -->
        <section>
          <section>
            <h2>What is TDD?</h2>
            <ul class="list-unstyled">
              <li>
                <p>Abbrevation of <strong>Test Driven Development</strong></p>
              </li>
              <li>
                <p>TDD is a software development process that heavily involves unit tests</p>
              </li>
              <li>
                <p>The approach:</p>
                <ul>
                  <li>1. Write the test</li>
                  <li>2. Implement the functionality</li>
                </ul>
              </li>
            </ul>
            <p></p>
            <p></p>
            <aside class="notes"></aside>
          </section>
        </section>

        <!-- TDD Cycle -->
        <section>

          <section data-background-image="./img/tdd-cycle.png" data-background-size="contain">
            <h1>TDD Cycle</h1>
            <p>The TDD Cycle in 5 steps</p>
          </section>

          <section>
            <h2 class="orange">1. Add a test</h2>
            <p><strong>Write a test case</strong> to cover the requirements of our application. For the first iteration your test should be <strong>as small as possible</strong>.</p>
          </section>

          <section>
            <h2 class="red">2. Run the test</h2>
            <p>After defining our test we’re going to <strong>execute the test</strong> against the application. <strong>The test fails</strong> because the requirement isn’t implemented yet.</p>
          </section>

          <section>
            <h2 class="yellow">3. Write the code</h2>
            <p>To fix this it’s time to <strong>implement the least necessary code</strong> in our application. Don’t do too much! Only the really necessary parts should be implemented.</p>
          </section>

          <section>
            <h2 class="blue">4. Run the test again</h2>
            <p>If we run the previous defined test again <strong>the test should pass</strong>. Otherwise we have to go over the code again until it passes.</p>
          </section>

          <section>
            <h2 class="green">5. Refactor the code</h2>
            <p>When the test passes we should <strong>do some code refactoring</strong> to keep our code clean and slim.</p>
          </section>

          <section>
            <h2>Repeat</h2>
            <p><strong>Repeat step 1 to 5</strong> until all requirements are met.</p>
          </section>

        </section>

        <!-- Frameworks -->
        <section>

          <section>
            <h1>Frameworks</h1>
            <p>TDD Frameworks for Node.js</p>
          </section>

          <section>
            <h2>Mocha.js</h2>
            <blockquote>
              <p>Mocha is a feature-rich JavaScript test framework running on Node.js and in the browser, making asynchronous testing simple and fun.</p>
              <footer>– Mochajs.org</footer>
            </blockquote>
            <img src="./img/mocha.png" alt="" class="img-unstyled">
          </section>

          <section>
            <h2>Mocha.js</h2>
            <ul class="list-unstyled">
              <li>Executes the written tests</li>
              <li>Reports the results (cli, html)</li>
              <li></li>
            </ul>
          </section>

          <section>
            <h2>Mocha.js Syntax</h2>
            <pre><code>
  // Testsuite
  describe('a testsuite', function() {
    describe('a nested testsuite', function() {
      // Testcase
      it('is a testcase', function() {
        // Tests
      });
    }
  }
            </code></pre>
          </section>

          <section>
            <h2>Mocha.js Syntax</h2>
            <iframe src="https://mochajs.org/#table-of-contents" frameborder="0"></iframe>
          </section>

          <section>
            <h2>Chai.js</h2>
            <blockquote>
              <p>Chai is a BDD / TDD assertion library for node and the browser that can be delightfully paired with any javascript testing framework.</p>
              <footer>– Chaijs.org</footer>
            </blockquote>
            <img src="./img/chai.png" alt="" class="img-unstyled">
          </section>

          <section>
            <h2>Chai.js</h2>
            <p>3 different assertion styles:</p>
            <ul class="list-unstyled">
              <li>
                <p>should</p>
                <pre><code>variable.should.be.a('string')</code></pre></li>
              <li>
                <p>expect</p>
                <pre><code>expect(variable).to.be.a('string')</code></pre></li>
              <li>
                <p>assert</p>
                <pre><code>assert.typeOf(variable, 'string')</code></pre></li>
            </ul>
            <p>Plugins extend the functionality (HTTP Request, Databases, DOM, ect. pp.)</p>
            <aside class="notes">More Plugins: HTTP Reqeust, JSON, XML, DOM, Regex Filesystem, Datetiemes</aside>
          </section>

          <section>
            <h2>Chai.js expect syntax</h2>
            <pre><code>
  expect(variable)
      .to.be.a('string')
      .and.to.be.equal('Hello World');
            </code></pre>
            <aside class="notes">
              Füllworter/Wörter zum Functionchaining: to, be, been, is, that, which, and, has, have, with, at, of, same;
            </aside>
          </section>

          <section>
            <h2>Chai.js Syntax</h2>
            <iframe src="http://chaijs.com/api/bdd/" frameborder="0"></iframe>
          </section>

          <section>
            <h2>Mocha.js and Chai.js</h2>
            <pre><code>
  describe('a testsuite', function() {

    it('returns the string -Hello World-', function() {

      expect(variable)
        .to.be.a('string')
        .and.to.be.equal('Hello World');

    });

  });
            </code></pre>
          </section>

        </section>

        <!-- Example -->
        <section>

          <section>
            <h1>TDD Example</h1>
            <p>A <strong>'helloYou'</strong> node.js application</p>
            <p>Requirements: Develop an application, that can greet you by your name</p>
            <a href="https://github.com/RomanKol/syseng-presentation">https://github.com/RomanKol/syseng-presentation</a>
            <br><br><br>
            <p>
              <small>You are free to try it yourself or just watch as we do</small>
            </p>
          </section>

          <section>
            <h2>Before Developing</h2>
            <ul class="list-unstyled">
              <li>
                <p>1. Clone the GitHub Repo</p>
                <pre><code>git clone https://github.com/RomanKol/syseng-presentation.git</code></pre>
              </li>
              <li>
                <p>2. Install the dependencies in the <strong>./example</strong> folder</p>
                <pre><code>npm install</code></pre>
              </li>
              <li>
                <p>3. Start coding</p>
              </li>
            </ul>
          </section>

          <section>
            <h2 class="orange">Step 1: Add a Test</h2>
            <p>Open the <strong>tests.js</strong> File in <strong>./test</strong></p>
            <p>Add a test with the requirement: <strong>return value is a string</strong></p>
            <div class="fragment">
              <p><strong>Result</strong></p>
              <pre><code>  // ./test/tests.js

  describe('app testsuite', function() {

    it('returns a string', function() {

      expect(helloYou())
        .to.be.a('string');

    });

  });
              </code></pre>
            </div>
          </section>

          <section>
            <h2 class="red">2. Run the test</h2>
            <p>Run the test with mocha</p>
            <pre><code>
  mocha
            </code></pre>
            <div class="fragment">
              <p><strong>Result</strong></p>
              <pre><code>
  app testsuite
  1) returns a string

  0 passing (17ms)
  1 failing

  1) app testsuite returns a string:
    AssertionError: expected undefined to be a string
              </code></pre>
            </div>
          </section>

          <section>
            <h2 class="yellow">3. Write the code</h2>
            <p>Write the code so that the test succeeds</p>
            <div class="fragment">
              <p><strong>Result</strong></p>
              <pre><code>
  // ./app/index.js

  module.exports = function() {

    return 'Hello World';

  };
              </code></pre>
            </div>
          </section>

          <section>
            <h2 class="blue">4. Run the test again</h2>
            <p>Run the test again</p>
            <pre><code>mocha</code></pre>
            <div class="fragment">
              <p><strong>Result</strong></p>
              <pre><code>
  app testsuite
    √ returns a string

  1 passing (11ms)
              </code></pre>
            </div>
          </section>

          <section>
            <h2 class="green">5. Refactor the code</h2>
            <p>Only if necessary 😉</p>
          </section>

          <section>
            <h2>Repeat</h2>
            <p><strong>Repeat step 1 to 5</strong> until all requirements are met.</p>
            <p>Next requirement is to greet by your name</p>
          </section>

          <section>
            <h2 class="orange">Step 1: Add a Test</h2>
            <p>Open the <strong>tests.js</strong> File in <strong>./test</strong></p>
            <p>Add a new test with the requirement: <strong>return a string that contains 'John Doe'</strong></p>
            <div class="fragment">
              <p><strong>Result</strong></p>
              <pre><code>  // ./test/tests.js

  it('returns a string containing John Doe', function() {

    expect(helloYou('John Doe'))
      .to.match(/.*John Doe.*/);

  });

              </code></pre>
            </div>
          </section>

<section>
            <h2 class="red">2. Run the test</h2>
            <p>Run the test with mocha</p>
            <pre><code>
  mocha
            </code></pre>
            <div class="fragment">
              <p><strong>Result</strong></p>
              <pre><code>
app testsuite
  √ returns a string
  1) returns a string containing John Doe


1 passing (19ms)
1 failing

1) app testsuite returns a string containing John Doe:
   AssertionError: expected 'Hello World!' to match /.*John Doe.*/
              </code></pre>
            </div>
          </section>

          <section>
            <h2 class="yellow">3. Write the code</h2>
            <p>Write the code so that the test succeeds</p>
            <div class="fragment">
              <p><strong>Result</strong></p>
              <pre><code>
  // ./app/index.js

  module.exports = function(name) {

    return 'Hello ' +  name + '!';

  };
              </code></pre>
            </div>
          </section>

          <section>
            <h2 class="blue">4. Run the test again</h2>
            <p>Run the test again</p>
            <pre><code>mocha</code></pre>
            <div class="fragment">
              <p><strong>Result</strong></p>
              <pre><code>
  app testsuite
    √ returns a string
    √ returns a string with John Doe

  2 passing (17ms)
              </code></pre>
            </div>
          </section>

          <section>
            <h2 class="green">5. Refactor the code</h2>
            <p>Only if necessary 😉</p>
          </section>

          <section>
            <h1>Congratulation</h1>
            <p>All requirements are met by our application</p>
          </section>
        </section>

        </section>

        <!-- Code Style -->
        <section>
          <section>
            <h1>CS &amp; CQ</h1>
            <p>Node.js tools for Code Style and Code Quality</p>
          </section>

          <section>
            <h2>Linter</h2>
            <blockquote>
              <p>Linting is the process of running a program that will analyse code for potential errors.</p>
              <footer>- Oded <a href="http://stackoverflow.com/a/8503586">@stackOverflow</a></footer>
            </blockquote>
          </section>

          <section>
            <h2>ESLint</h2>
            <blockquote>
              <p>The pluggable linting utility for JavaScript and JSX</p>
              <footer>-ESLint.org</footer>
            </blockquote>
            <p>Static code analysis to detect possible errors</p>
            <p>Check for correct style guidelines compliance</p>
          </section>

          <section>
            <h2>ESLint Example</h2>
            <ul class="list-unstyled">
              <li>
                <p>Configure ESLint</p>
                <pre><code>eslint --init</code></pre>
              </li>
              <li class="fragment">
                <p>Run ESLint</p>
                <pre><code>eslint app/</code></pre>
              </li>
              <li class="fragment">
                <p>Let ESLint fix your problems 😉</p>
                <pre><code>eslint app/ --fix</code></pre>
              </li>
              <li class="fragment">
                <p>Fix the remaining errors by yourself</p>
              </li>
            </ul>
          </section>

        </section>

        <!-- Conclusion -->
        <section>
          <section>
            <h1>Conclusion</h1>
          </section>
          <section>
            <h2>Conclusion TDD</h2>
            <ul class="list-unstyled">
              <li>
                <p>TDD approach is really nice, <strong>BUT</strong></p>
                <ul>
                  <li>you have to force yourself to code by the rules</li>
                  <li>it needs more than some time to get into it</li>
                  <li>it is the opposite of 'normal' coding</li>
                  <li>it feels so much slower <strong>BUT</strong> it's maybe just a feeling</li>
                </ul>
                <br>
                <p><strong>BUT</strong> we think it's definitely worth a try 😉</p>
              </li>
            </ul>
          </section>

          <section>
            <h2>Conclusion CS &amp; CQ</h2>
            <ul class="list-unstyled">
              <li>
                <p>CS and CQ are easy ways to improve your code</p>
                <ul>
                  <li>there is no training period</li>
                  <li>only needs little time to configurate</li>
                </ul>
                <br>
                <p>We definitely recommend tools like ESLint, you have nothing to lose 😉</p>
              </li>
            </ul>
          </section>
        </section>

        <section>
          <h2>Questions?</h2>
          <small>presented with <a href="https://github.com/hakimel/reveal.js/">Reveal.JS</a></small>
        </section>

      </div>
    </div>

    <script src="js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({

        width: 1280,
        height: 1024,

        history: true,

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          // { src: '/markdown/marked.js' },
          // { src: '/markdown/markdown.js' },
          { src: 'js/notes.js', async: true },
          { src: 'js/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>
  </body>
</html>
